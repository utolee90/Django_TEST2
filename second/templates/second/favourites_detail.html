{% extends 'second/detail_pages.html' %}

{% block titlename %}
Favourites {{ favourite.name }}
{% endblock %}

{% block content_title %}
{{ favourite.name }}
{% endblock %}

{% block content_modify_url %}
{% url 'second:favourites_modify' favourite.seq %}
{% endblock %}

{% block content_del_form %}
        <form class="del-form" id="del-favourite-{{favourite.seq}}" method="post" action="{% url 'second:favourites_delete' %}">
            {% csrf_token %}
            <input type="hidden" name="del" value="{{favourite.seq}}"/>
        </form> <!--숨은 폼 작성 -->
{% endblock %}

{% block content_detail %}
            <div class='item-box'>
                <table class='item-box-table'>
                    <tr>
                        <td>순번</td>
                        <td> {{ favourite.seq }}</td>
                    </tr>
                    <tr>
                        <td>명칭</td>
                        <td>{{ favourite.name }}</td>
                    </tr>
                    <tr>
                        <td>URL</td>
                        <td>{{ favourite.url }}</td>
                    </tr>
                    <tr>
                        <td>메모</td>
                        <td>{{ favourite.memo }}</td>
                    </tr>
                    <tr>
                        <td>등록일</td>
                        <td>{{ favourite.reg_date }}</td>
                    </tr>
                    <tr>
                        <td>그룹</td>
                        <td>{{ favourite.group }}</td>
                    </tr>
                </table>
            </div>
    </div>
{% endblock %}

{% block content_script %}
    <script>
        let form = document.getElementById('del-favourite-{{favourite.seq}}');
        alert_msg = () => {
            let form = document.getElementById('del-favourite-{{favourite.seq}}');
            let msg = confirm('삭제하시겠습니까?');
            if (msg){ // 강제로 히든 폼 형식을 만든다.
                form.submit();
            }
        };
    </script>
{% endblock %}